# 角色卡创作任务清单

> 💡 **使用说明**：此文件由任务清单生成器自动生成，在创作过程中可以随时更新和调整。

> 📁 **文件组织建议**：
> - 请在 `作品` 目录下创建一个名为 `幽冥仙途` 的文件夹
> - 将此 to-do.md 文件放入该文件夹
> - 后续创作的所有相关文件（背景设定、角色卡、开场白等）也都放入此文件夹中
> - 这样可以保持项目文件的整洁和有序

---

## 基本信息

**作品名称：** 幽冥仙途

**作品类型：** 仙侠修真

---

## 创作任务清单

### ✅ 第一步：世界观构建

**背景设定需求：**
- [x] 需要
- [ ] 不需要

**背景类型：**
- [x] 世界观设定
- [x] 国家/城市/地点设定
- [x] 历史背景设定
- [x] 社会结构设定
- [x] 魔法系统设定
- [ ] 科技系统设定
- [x] 游戏规则设定
- [x] 势力组织设定
- [ ] 经济贸易设定
- [x] 文化风俗设定

**背景设定大纲：**
```
世界观：三界体系 - 人间界、通玄界、仙界
主要场景：通玄界的明心剑宗，位于连霞山
核心地标：坐忘峰（通天四柱之一，通往仙界）

修真等级：低辟弟子→开山→启元堂→嫡系弟子→真人→宗主
宗门结构：明心剑宗（东方第一宗），连霞七剑，三大散人

修真特色：
- 剑道为主，御剑飞行
- 内息修炼，筑基培元
- 各种法宝（云袍、丹药等）
- 危险的修真路，淘汰率极高

主要势力：
- 正道宗门：明心剑宗等
- 散修：三大散人（血散人等）
- 妖物：天妖凤凰等宇内七妖
```

**参考模板：** `基础模板/Z.1.背景模板.md`

---

### ✅ 第二步：角色设定

**主要角色数量：** 3

#### 角色 1

**角色名称：** 李珣

**角色定位：**
- [x] 主角（NPC）
- [ ] 重要配角
- [ ] 普通 NPC

**人物设定大纲：**
```
身份：福王世子，8岁，明心剑宗低辟弟子
背景：帝王之家长大，被血散人种下血魇，被迫上山求道
性格：表面温和谦逊，内心机智深沉，善于察言观色
困境：被血魇控制，十年内必须获得"灵犀诀"否则死亡
成长：从养尊处优的王子到拼命修炼的修士
特色：心机与纯真并存，在绝境中展现坚韧意志
```

#### 角色 2

**角色名称：** 血散人

**角色定位：**
- [ ] 主角（NPC）
- [x] 重要配角
- [ ] 普通 NPC

**人物设定大纲：**
```
身份：通玄界三大散人之一，魔道修士
背景：修炼血魔化心大法，杀孽深重的魔王
性格：凶狠残暴，手段阴毒，控制欲极强
能力：血魇之术、血魔化心大法
目标：要求李珣获取"灵犀诀"
威胁：血魇每日噬体，让李珣时时记得性命在其掌控中
```

#### 角色 3

**角色名称：** 灵机

**角色定位：**
- [ ] 主角（NPC）
- [x] 重要配角
- [ ] 普通 NPC

**人物设定大纲：**
```
身份：明心剑宗低辟弟子，李珣的挚友
背景：贫寒家庭出身，天生苦脸但心地善良
性格：憨厚纯朴，没心没肺，对朋友极为义气
关系：李珣在宗门内唯一真心的朋友
作用：为李珣提供关键信息（坐忘峰的规矩）
命运：即将进入"开山"阶段，与李珣分别
```

**参考模板：** `基础模板/Z.2.人物模板.md`

---

### ✅ 第三步：开场白

**开场白需求：**
- [x] 需要
- [ ] 不需要

**开场场景：** 修真危机

**目标篇幅：**
- [ ] 简单场景（300-500字）
- [x] 标准场景（500-800字）
- [ ] 复杂场景（800-1500字）

**开场白大纲：**
```
场景：连霞山坐忘峰下的水潭
时机：李珣刚被清虚真人斥退，绝望中决定攀爬坐忘峰
氛围：寒冬雪夜，孤注一掷的少年面对生死抉择
冲突：血魇发作的痛苦与求生意志的较量
目标：建立李珣的困境和{{user}}的介入机会
```

**参考模板：** `基础模板/Z.3.开场白.md`

---

### ✅ 第四步：对话补充（可选）

**是否需要对话补充：**
- [x] 需要
- [ ] 不需要

**对应角色：** 李珣

**场景需求：**
- [x] 日常闲聊
- [x] 紧张时刻
- [ ] 战斗场景
- [ ] 亲密互动
- [x] 情绪波动（高兴/愤怒/悲伤）

**参考模板：** `基础模板/Z.4.对话补充.md`

---

### ✅ 第五步：角色采访（可选）

**是否需要角色采访：**
- [x] 需要
- [ ] 不需要

**对应角色：** 李珣

**采访主题：**
```
1. 谈谈你对血魇的感受和恐惧
2. 描述一下明心剑宗的生活
3. 你对修仙的看法和目标
4. 与灵机等朋友的相处
5. 对血散人的愤恨和无奈
6. 坐忘峰攀登的决心和准备
```

**参考模板：** `基础模板/Z.5.角色采访.md`

---

### ✅ 第六步：玩家角色设定（可选）

**是否需要玩家设定：**
- [x] 需要
- [ ] 不需要

**设定深度：**
- [ ] 极简设定（最大自由度）
- [x] 简化设定（有基本框架）
- [ ] 完整设定（明确背景和性格）

**玩家角色大纲：**
```
身份：外界来客/神秘修士/命运中人
背景：在李珣最危急时刻出现，可能具有特殊能力或知识
关系：可以是导师、同道、或者掌握关键信息的神秘人物
能力：了解修真奥秘，可能知道破解血魇的方法
作用：在李珣的修真路上提供指导、帮助或考验
```

**参考模板：** `基础模板/Z.6.玩家模板.md`

---

### ✅ 第七步：MVU 组件包（可选）

**是否使用 MVU 组件包：**
- [x] 需要
- [ ] 不需要

**组件选择：**
- [x] 变量初始化条目（稳定版）
- [ ] 变量初始化条目（Beta版）
- [x] 变量更新规则
- [x] 变量处理指令集（稳定版）
- [ ] 变量处理指令集（Beta版）
- [ ] 分阶段角色设定
- [ ] 动态世界内容
- [x] HTML状态栏

**需要追踪的变量：**

1. **血魇痛苦度**：0-100，影响李珣的状态和行动能力
2. **修为境界**：筑基-开山-启元堂等修真等级
3. **宗门声望**：在明心剑宗的地位和认可度
4. **时间倒计时**：距离十年期限的剩余时间
5. **坐忘峰进度**：攀爬坐忘峰的高度和进展
6. **体力状态**：李珣的身体状况和疲劳度
7. **心理状态**：绝望-希望-坚定等情绪变化

**HTML 状态栏显示需求：**
```
- 显示李珣当前修为境界和进展
- 血魇倒计时（十年期限）
- 当前血魇痛苦等级和发作频率
- 体力和精神状态条
- 宗门声望和人际关系
- 重要物品（云袍、灵石等）
- 当前所在位置（连霞山各区域）
- 修炼进度和成就
```

**其他特殊说明：**
需要模拟修真世界的复杂性，包括修炼的风险、宗门政治、师徒关系等

**参考模板：** `MVU组件包/` 目录下的相关文件

---

## 额外需求

**特殊要求或补充说明：**
- 需要体现仙侠修真的传统元素：御剑飞行、丹药法宝、宗门制度
- 突出李珣的成长轨迹：从养尊处优到拼命修炼的心路历程
- 展现修真世界的残酷：高淘汰率、生死考验、等级森严
- 营造紧张感：血魇的威胁、时间压力、各种危机
- 人物关系的复杂性：师门政治、友情背叛、身份逆转

---

## 创作进度跟踪

- [ ] 背景设定完成
- [ ] 角色设定完成
- [ ] 开场白完成
- [ ] 对话补充完成（如需要）
- [ ] 角色采访完成（如需要）
- [ ] 玩家角色完成（如需要）
- [ ] MVU 组件包配置完成（如需要）
- [ ] 编写打包配置文件
- [ ] 运行打包程序生成角色卡

---

## 📦 角色卡打包说明

完成所有创作内容后，需要使用打包程序将文件整合成 SillyTavern 可导入的角色卡 JSON 文件。

### 第一步：编写配置文件

在项目根目录创建一个 YAML 配置文件（例如：`幽冥仙途.yaml`），内容参考以下格式：

```yaml
# 基础信息
name: 幽冥仙途
creator: ""
character_version: ""

# 主要字段映射
fields:
  description: 作品/幽冥仙途/角色设定_李珣.xyaml
  personality: ""
  scenario: ""
  first_mes: 作品/幽冥仙途/开场白.md
  mes_example: ""
  creator_notes: ""
  system_prompt: ""
  post_history_instructions: ""

# 扩展字段
extensions:
  talkativeness: "0.6"
  fav: false
  world: 幽冥仙途
  status_bar: 作品/幽冥仙途/状态栏.html  # 可选

# 角色书配置
character_book:
  name: 幽冥仙途
  entries:
    # [InitVar]初始化条目
    - comment: "[InitVar]初始化"
      content: 作品/幽冥仙途/变量初始化.xyaml
      enabled: false
      position: before_char
      insertion_order: 100
      depth: 4
      role: 0

    # 变量更新规则
    - comment: "变量更新规则"
      content: 作品/幽冥仙途/变量更新规则.xyaml
      enabled: true
      position: at_depth
      insertion_order: 1
      depth: 1
      role: 0

    # 变量处理指令集
    - comment: "变量处理指令集"
      content: 作品/幽冥仙途/变量处理指令集.xyaml
      enabled: true
      position: at_depth
      insertion_order: 2
      depth: 1
      role: 0

    # 背景设定
    - comment: "背景设定"
      content: 作品/幽冥仙途/背景设定.xyaml
      enabled: true
      position: before_char
      insertion_order: 1
      depth: 4
      role: 0

    # 玩家角色
    - comment: "玩家角色_{{user}}"
      content: 作品/幽冥仙途/玩家角色_{{user}}.xyaml
      enabled: true
      position: before_char
      insertion_order: 2
      depth: 4
      role: 0

    # 血散人设定
    - comment: "血散人设定"
      content: 作品/幽冥仙途/血散人设定.xyaml
      enabled: true
      position: after_char
      insertion_order: 1
      depth: 4
      role: 0

    # 灵机设定
    - comment: "灵机设定"
      content: 作品/幽冥仙途/灵机设定.xyaml
      enabled: true
      position: after_char
      insertion_order: 2
      depth: 4
      role: 0

    # 明心剑宗设定
    - comment: "明心剑宗设定"
      content: 作品/幽冥仙途/明心剑宗设定.xyaml
      enabled: true
      position: after_char
      insertion_order: 3
      depth: 4
      role: 0
```

**配置说明：**

- `name`: 角色卡名称
- `fields`: 各个字段对应的文件路径，空字符串 `""` 表示该字段为空
- `extensions.status_bar`: 状态栏HTML文件路径（可选）
- `character_book.entries`: 角色书条目列表
  - `comment`: 条目名称
  - `content`: 条目内容对应的文件路径
  - `position`: 插入位置（`before_char`/`after_char`/`at_depth`）
  - `insertion_order`: 插入顺序（数字越小越靠前）
  - `depth`: 深度值（1-4）
  - `role`: 角色类型（0=系统，1=用户，2=AI）

**参考示例：** `config.example.yaml`

### 第二步：运行打包程序

确保已安装 Node.js 和依赖包，然后在项目根目录运行：

```bash
# 首次使用需要安装依赖
npm install

# 运行打包程序
node build-card.js 幽冥仙途.yaml
```

程序会自动读取配置文件，整合所有内容，生成 `幽冥仙途.json` 文件。

---

## 版本记录

**v1.0** - 2025-10-22 - 初始版本创建，基于《幽冥仙途》小说世界观

---

> 💾 **提示**：建议使用 Git 进行版本管理，每完成一个重要阶段就提交一次，方便回溯和对比不同版本。
