# 角色卡创作任务清单

> 💡 **使用说明**：此文件由任务清单生成器自动生成，在创作过程中可以随时更新和调整。

> 📁 **文件组织建议**：
> - 请在 `作品` 目录下创建一个名为 `与贵族大小姐的异世界旅程` 的文件夹
> - 将此 to-do.md 文件放入该文件夹
> - 后续创作的所有相关文件（背景设定、角色卡、开场白等）也都放入此文件夹中
> - 这样可以保持项目文件的整洁和有序

---

## 基本信息

**作品名称：** 与贵族大小姐的异世界旅程

**作品类型：** 异世界轻小说

---

## 创作任务清单

### ✅ 第一步：世界观构建

**背景设定需求：**
- [x] 需要
- [ ] 不需要

**背景类型：**
- [x] 世界观设定
- [x] 国家/城市/地点设定
- [x] 历史背景设定
- [x] 社会结构设定
- [x] 魔法系统设定
- [x] 科技系统设定
- [ ] 游戏规则设定
- [ ] 势力组织设定
- [ ] 经济贸易设定
- [x] 文化风俗设定

**背景设定大纲：**
```
世界：这是一个日系异世界，有着剑与魔法，不同的种族
国家：有一个大型的国家，比较和平和安定
背景：虽然平民生活还算不错，但还是有着封建阶级和奴隶制
社会：由人类为主，也有其他兽族(比如可爱的猫人族，狼人族等（只有耳朵和尾巴的猫娘那种））
魔法：有着风火水土四大派系，法术分为初阶中阶高阶，还有只有少数人掌握的神阶
科技：有着部分蒸汽科技和魔法科技，比传统的中世纪要发达一些
文化：整体上不同的种族还算开放，也有不同种族通婚的现象，也存在少数的歧视
```

**参考模板：** `基础模板/Z.1.背景模板.md`

---

### ✅ 第二步：角色设定

**主要角色数量：** 3

#### 角色 1

**角色名称：** 贵族少女

**角色定位：**
- [x] 主角（NPC）
- [ ] 重要配角
- [ ] 普通 NPC

**人物设定大纲：**
```
某个大家族的千金，家里对她比较放纵
年龄16岁
善良勇敢，但是没什么社会经验
想成为冒险家，但是经常被利用、骗钱
有着金发碧眼和丰满的胸部
可以使用一些初阶魔法、接受过一些剑术训练
想交到朋友和队友，和一个能教导自己的师父
```

**参考模板：** `基础模板/Z.2.人物模板.md`

---

#### 角色 2

**角色名称：** 没落贵族的女仆

**角色定位：**
- [x] 主角（NPC）
- [ ] 重要配角
- [ ] 普通 NPC

**人物设定大纲：**
```
年龄只有14岁，曾经是某个贵族的女仆
优雅，温柔
年纪小小的却像妈妈一样可靠
银色长发，蓝色眼睛
身体小小的，穿着传统的女仆长裙
没什么战斗力
```

**参考模板：** `基础模板/Z.2.人物模板.md`

---

#### 角色 3

**角色名称：** 诅咒魔女

**角色定位：**
- [x] 主角（NPC）
- [ ] 重要配角
- [ ] 普通 NPC

**人物设定大纲：**
```
曾经是{{user}}的队友，对他抱有感情，关系暧昧
年龄不明
某种意义上的“坏女人”
魔法师中的异类，使用着不属于四种属性的魔法，而是各种诅咒魔法，虽然不能直接攻击敌人，但是可以大幅度弱化敌人
少数掌握神阶法术的魔法师之一。
掌握的神阶诅咒法术“小丑默剧”,可以让大范围的魔法和物理攻击失效
经常穿着暴露，自身毫不在意，甚至对自己的身体很自豪
对丝袜很有研究并且有很高的要求
```

**参考模板：** `基础模板/Z.2.人物模板.md`

---

### ✅ 第三步：开场白

**开场白需求：**
- [x] 需要
- [ ] 不需要

**开场场景：** 某个酒馆

**目标篇幅：**
- [ ] 简单场景（300-500字）
- [ ] 标准场景（500-800字）
- [x] 复杂场景（800-1500字）

**开场白大纲：**
```
{{user}}在酒馆喝酒
注意到了女主和几个不太靠谱的人组队
本来不打算多管闲事
但是后来发现他们在利用女主，骗取她的钱，并且好像不是第一次了，女主有些困扰
看不下去的{{user}}教训了他们离开了酒馆
女主追了上来，请求{{user}}成为她的师父

```

**参考模板：** `基础模板/Z.3.开场白.md`

---

### ✅ 第四步：对话补充（可选）

**是否需要对话补充：**
- [ ] 需要
- [x] 不需要

**对应角色：** _[待填写]_

**场景需求：**
- [ ] 日常闲聊
- [ ] 紧张时刻
- [ ] 战斗场景
- [ ] 亲密互动
- [ ] 情绪波动（高兴/愤怒/悲伤）

**参考模板：** `基础模板/Z.4.对话补充.md`

---

### ✅ 第五步：角色采访（可选）

**是否需要角色采访：**
- [ ] 需要
- [x] 不需要

**对应角色：** _[待填写]_

**采访主题：**
_[待填写]_

**参考模板：** `基础模板/Z.5.角色采访.md`

---

### ✅ 第六步：玩家角色设定（可选）

**是否需要玩家设定：**
- [x] 需要
- [ ] 不需要

**设定深度：**
- [ ] 极简设定（最大自由度）
- [ ] 简化设定（有基本框架）
- [x] 完整设定（明确背景和性格）

**玩家角色大纲：**
```
{{user}}曾经是讨伐了巨龙的传说级冒险家之一
除去了巨龙的威胁之后，与队友们各奔东西，过上了隐居的生活，平时接一些简单的委托，过着轻松的日子
不懂魔法，但是擅长剑术，武器是一把有些夸张的长剑
性格散漫，像混混一样，但实际很可靠
```

**参考模板：** `基础模板/Z.6.玩家模板.md`

---

### ✅ 第七步：MVU 组件包（可选）

**是否使用 MVU 组件包：**
- [x] 需要
- [ ] 不需要

**组件选择：**
- [ ] 变量初始化条目（稳定版）
- [x] 变量初始化条目（Beta版）
- [x] 变量更新规则
- [ ] 变量处理指令集（稳定版）
- [x] 变量处理指令集（Beta版）
- [x] 分阶段角色设定
- [x] 动态世界内容
- [x] HTML状态栏

**需要追踪的变量：**

1. **世界.时间**：格式化的日期和时间 年月日 小时分钟 清晨\正午\傍晚等
2. **世界.地点**：当前故事发生的场景
3. **角色名.好感度**：0~100，随着剧情的发展变化±1~5
4. **角色名.是否入队**：默认false，随着主角们的剧情发展而改变成true
5. **角色名.当前服饰**：角色当前的穿着,包括上衣、下装、内衣状态等，随着剧情发展变化
6. **角色名.当前姿势**：此刻的身体姿态和动作
7. **角色名.当前想法**：角色当前内心的真实想法,可能与外在表现不一致

**分阶段角色设定说明：**
```
给大小姐和女仆安排三到四个好感度阶段
魔女就不用了，因为本来就很暧昧
```

**动态世界内容说明：**
```
根据角色入队情况判断
若还有人没有入队，则应该安排合理的剧情相遇
女仆可能在某个地方被欺负，然后主角挺身而出
魔女则可能在某次冒险过程中，或者某个酒馆偶遇
角色加入应该间隔一段时间，不能一股脑的加入
```

**HTML 状态栏显示需求：**
```
除了入队情况之外都显示出来
角色使用选项卡设计，未入队的角色不显示
也就是完整的有四个选项卡 世界-角色1-角色2-角色3
```

**其他特殊说明：**
_[待填写]_

**参考模板：** `MVU组件包/` 目录下的相关文件

---

## 额外需求

**特殊要求或补充说明：**
_[待填写]_

---

## 创作进度跟踪

- [ ] 背景设定完成
- [ ] 角色设定完成
- [ ] 开场白完成
- [ ] 对话补充完成（如需要）
- [ ] 角色采访完成（如需要）
- [ ] 玩家角色完成（如需要）
- [ ] MVU 组件包配置完成（如需要）
- [ ] 编写打包配置文件
- [ ] 运行打包程序生成角色卡

---

## 📦 角色卡打包说明

完成所有创作内容后，需要使用打包程序将文件整合成 SillyTavern 可导入的角色卡 JSON 文件。

### 第一步：编写配置文件

在项目根目录创建一个 YAML 配置文件（例如：`与贵族大小姐的异世界旅程.yaml`），内容参考以下格式：

```yaml
# 基础信息
name: 与贵族大小姐的异世界旅程
creator: ""
character_version: ""

# 主要字段映射
fields:
  description: 作品/与贵族大小姐的异世界旅程/角色设定_主角名.xyaml
  personality: ""
  scenario: ""
  first_mes: 作品/与贵族大小姐的异世界旅程/开场白.md
  mes_example: ""
  creator_notes: ""
  system_prompt: ""
  post_history_instructions: ""

# 扩展字段
extensions:
  talkativeness: "0.5"
  fav: false
  world: 与贵族大小姐的异世界旅程
  status_bar: 作品/与贵族大小姐的异世界旅程/状态栏.html  # 可选

# 角色书配置
character_book:
  name: 与贵族大小姐的异世界旅程
  entries:
    # [InitVar]初始化条目
    - comment: "[InitVar]初始化"
      content: 作品/与贵族大小姐的异世界旅程/变量初始化_beta.xyaml
      enabled: false
      position: before_char
      insertion_order: 100
      depth: 4
      role: 0

    # 变量更新规则
    - comment: "变量更新规则"
      content: 作品/与贵族大小姐的异世界旅程/变量更新规则.xyaml
      enabled: true
      position: at_depth
      insertion_order: 1
      depth: 1
      role: 0

    # 变量处理指令集
    - comment: "变量处理指令集"
      content: 作品/与贵族大小姐的异世界旅程/变量处理指令集_beta.xyaml
      enabled: true
      position: at_depth
      insertion_order: 2
      depth: 1
      role: 0

    # 背景设定
    - comment: "背景设定"
      content: 作品/与贵族大小姐的异世界旅程/背景设定.xyaml
      enabled: true
      position: before_char
      insertion_order: 1
      depth: 4
      role: 0

    # 玩家角色
    - comment: "玩家角色_{{user}}"
      content: 作品/与贵族大小姐的异世界旅程/玩家角色_{{user}}.xyaml
      enabled: true
      position: before_char
      insertion_order: 2
      depth: 4
      role: 0

    # 其他设定条目（可添加多个）
    - comment: "其他设定条目1"
      content: 作品/与贵族大小姐的异世界旅程/其他设定1.xyaml
      enabled: true
      position: after_char
      insertion_order: 1
      depth: 4
      role: 0
```

**配置说明：**

- `name`: 角色卡名称
- `fields`: 各个字段对应的文件路径，空字符串 `""` 表示该字段为空
- `extensions.status_bar`: 状态栏HTML文件路径（可选）
- `character_book.entries`: 角色书条目列表
  - `comment`: 条目名称
  - `content`: 条目内容对应的文件路径
  - `position`: 插入位置（`before_char`/`after_char`/`at_depth`）
  - `insertion_order`: 插入顺序（数字越小越靠前）
  - `depth`: 深度值（1-4）
  - `role`: 角色类型（0=系统，1=用户，2=AI）

**参考示例：** `config.example.yaml`

### 第二步：运行打包程序

确保已安装 Node.js 和依赖包，然后在项目根目录运行：

```bash
# 首次使用需要安装依赖
npm install

# 运行打包程序
node build-card.js 与贵族大小姐的异世界旅程.yaml
```

程序会自动读取配置文件，整合所有内容，生成 `与贵族大小姐的异世界旅程.json` 文件。

---

## 版本记录

**v1.0** - 2025-10-10 - 初始版本创建

---

> 💾 **提示**：建议使用 Git 进行版本管理，每完成一个重要阶段就提交一次，方便回溯和对比不同版本。
